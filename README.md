# ECextractor-NUCLEIextractor
Software for extraction of ECs and Nuclei  from directed graphs associated  with dynamical  systems
#########################################################################
#
#                                                ECextractor-NUCLEIextractor README     
#
########################################################################


This document provides a list of technical instruction to run all codes using, for example the case study provided. For more details about the meaning of the different output files, please refer  to  the paper and the technical notes.

INSTALLATION AND CONFIGURATION OF THE DIRECTORIES


-ECextractor  and NUCLEIextractor have been written in C++, the codes do not require any other libraries than the standard ones   and use data structures available within the Standard Template Library (STL), also  part of the distribution by default. Initially the codes were designed and tested on a MAC OS, with  g++ compiler.
-The R-script was written with R (this version using R 3.3.1). The code performs mathematical operations using
 standard data structures. It does not require any additional  package and can run with previous R releases (R 2.14).
-There is common directory called "ECextractor-NUCLEIextractor" which  contains the R-script and two separate directories called "NUCLEIextractor" and "ECextractor". Both directories "NUCLEIextractor" and "VICTORIII" are structured in the same way. They contain the set of source files, the makefile and two  additional directories "input_data" and "output_data" 
  


1) ECextractor

- For running ECextractor, two  files are required. A file called "DIGRAPH_MATRIX.txt" which  contains the adjacency matrix (N*N matrix) of the directed graph. One can create this file in excell,  then save it as a txt. tab delimited. No headers or column names should be added. The second file is called "TIME_SERIES_DATA.txt" and also  contains a matrix M*N where M is the number of time points. Again this file should be saved as a .txt tab delimited.  The N first columns corresponds to the N nodes of the directed graph and  the last column contains the  time point. Each row "i" contains the value taken by all nodes of the directed graph for the time point "i".
- The C++ code ECextractor can be compiled using the makefile with the command "make ECextractor", and executed with "./ECextractor"
- Whens starting, the program will ask the user to  provide several information (1) the number of nodes N of the directed graph, 
  (2) The number of time points M. (3) the user needs to  specify if the analysis must be carry out for all time points or for a restricted number of them. If the user decides to restrict the analysis, the program asks for entering the initial  time point and final  time point.
- The program performs the analysis and all results are available in the drectory "output_data" 
   

2) R-SCRIPT FOR DATA PROCESSING

- Before running the R-script ("R-SCRIPT-STEP-2"), it is necessary to  check the initial paths inside the script.  This is done by adapting the line:  main_directory_name<-paste("C:\\Users\\Quentin\\Documents\\MY-FUTURE-PROJECT\\CODE-ARXIV-RELEASE\\ECextractor-NUCLEIextractor\\",sep="") The part "C:\\Users\\Quentin\\Documents\\MY-FUTURE-PROJECT\\CODE-ARXIV-RELEASE" should be adapted to the  configuration of the user.
- Once the path is correctly specified, the user can simply copy-paste the content of the R-script into the R-working space. 
  The script will automatically switch  to  the right working directory to  read output files generated by ECextractor. Then it will  write the source files for NUCLEIextractor and input files in the right directory.

3) NUCLEIextractor

- Before running NUCLEIextractor, the input files generated by the R-script must be formatted. To proceed, go to the directory  
  "....\ECextractor-NUCLEIextractor\NUCLEIextractor\input_data". There are two  .csv files. for each of them, it is necessary to  suppress the first line  containing the headers. Then, both files should be saved as .txt with tab delimiter. (for example, open them in Excell, select save as .txt tab)
- Then it is necessary to  perform the compilation using comand lines "make NUCLEIextractor". Then the program can be started using the command "./NUCLEIextractor" 
- The program performs the analysis and all results are available in the drectory "output_data" 
